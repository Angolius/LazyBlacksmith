<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Lazyblacksmith by Kyria</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Lazyblacksmith</h1>
      <h2 class="project-tagline">EVE Online Industry app written in python (flask) for backend, html / css / js for frontend</h2>
      <a href="https://github.com/Kyria/LazyBlacksmith" class="btn">View on GitHub</a>
      <a href="https://github.com/Kyria/LazyBlacksmith/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/Kyria/LazyBlacksmith/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="lazyblacksmith" class="anchor" href="#lazyblacksmith" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LazyBlacksmith</h1>

<p>An EVE Online Industry application for lazy people.</p>

<h2>
<a id="about" class="anchor" href="#about" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>About</h2>

<p>LazyBlacksmith is a flask application allowing people to get informations about industry in eveonline.</p>

<h4>
<a id="features" class="anchor" href="#features" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Features</h4>

<ul>
<li>Blueprints

<ul>
<li>Manufacturing informations including components required and installation costs</li>
<li>Research data for material and time efficiency (time, cost)</li>
<li>Invention informations for components and costs.</li>
</ul>
</li>
<li>Get and compare item price over all regions</li>
</ul>

<h4>
<a id="crest-as-batch-or-through-celery" class="anchor" href="#crest-as-batch-or-through-celery" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CREST (as batch or through celery)</h4>

<ul>
<li>Use CREST market price / adjusted price for costs</li>
<li>Use CREST industry index for installation fee</li>
</ul>

<h4>
<a id="todo" class="anchor" href="#todo" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>TODO</h4>

<ul>
<li>Ore refining and compression (see branch ore_refining_compression)

<ul>
<li>View refining table</li>
<li>Calculate compression from user needs (in materials) and using defaults ore</li>
<li>Also allow to manually select what ore we want to use to compress</li>
</ul>
</li>
<li>Permalinks in manufacturing / research / production</li>
<li>Link API key to user account (CREST Login) to get, save and configure existing blueprints, with their ME/TE for direct use in manufacturing / invention</li>
</ul>

<h2>
<a id="requirements" class="anchor" href="#requirements" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Requirements</h2>

<ul>
<li>Python 2.7</li>
<li>Virtualenv (recommended)</li>
<li>
<a href="http://nodejs.org/">NodeJS</a> + <a href="http://gruntjs.com/getting-started">Grunt-CLI</a>
</li>
<li>Database connectors depending on the one you use (MySQL 5.6+,...)</li>
<li>See <a href="requirements/">requirements.txt</a> for other requirements</li>
<li>(Optional/Recommended) Cache system (eg. python-memcached or redis-cache)</li>
<li>(Optional) <a href="http://redis.io/">Redis</a> for async tasks and queues (and cache)!</li>
<li>Eve Online Icons (see CCP Icons part)</li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Installation</h2>

<h4>
<a id="environnement" class="anchor" href="#environnement" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Environnement</h4>

<p>Create your virtualenv and get LazyBlacksmith.</p>

<div class="highlight highlight-source-shell"><pre>git clone https://github.com/Kyria/LazyBlacksmith.git
<span class="pl-c1">cd</span> LazyBlacksmith
virtualenv env</pre></div>

<p>Once your virtualenv is created, load it and install requirements</p>

<pre><code># in windows, type env/Script/activate
source env/bin/activate
pip install -r requirements/requirements.txt

# if you are using celery with redis
pip install -r requirements/requirements-celery-redis.txt
</code></pre>

<h4>
<a id="configs" class="anchor" href="#configs" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Configs</h4>

<p>You now need to create an application on <a href="https://developers.eveonline.com/applications">EVE Online Developpers</a> to get CREST informations (secret key, client ID)</p>

<p>Once this is done, copy config.dist into config.py and edit the file.
Some mandatory informations :</p>

<pre><code>DEBUG : True for dev, False for prod (require static compilation, see below)
SQLALCHEMY_DATABASE_URI : the database informations
USE_CCP_ICONS : True/False to display icons (read the CCP Icons chapter below)
CACHE_TYPE : leave 'null' if no cache, or set it your needs

Celery configs, if you don't use it, leave them like that

CREST API informations : set it with what you got/set before in CCP Developpers Application
</code></pre>

<h4>
<a id="init-data" class="anchor" href="#init-data" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Init data</h4>

<p>Now you set everything, it's time to "install" the database. This should create all the table in your database (if you get any errors, check you sqlalchemy informations)</p>

<pre><code>python manage.py db upgrade
</code></pre>

<p>Download the latest SDE conversion from fuzzwork in sqlite <a href="https://www.fuzzwork.co.uk/dump/sqlite-latest.sqlite.bz2">here</a> unzip it then load it with :</p>

<pre><code>python manage.py sde_import -d path/to/sqlite-latest.sqlite
</code></pre>

<p>If you also want to have some CREST data right now, you can run the following commands :</p>

<pre><code>python manage.py celery_task -a update_adjusted_price
python manage.py celery_task -a update_industry_index
python manage.py celery_task -a update_market_price
</code></pre>

<h4>
<a id="static-file-compilation" class="anchor" href="#static-file-compilation" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Static file compilation</h4>

<p>If you are using it in production environnement, or upgrading your installation, you need to remake all static files (css/js). For this, first do <code>npm install</code> to install all the nodejs required package, then type <code>grunt</code> to compile the static files.</p>

<h4>
<a id="crest--api" class="anchor" href="#crest--api" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CREST / API</h4>

<p>To update the CREST data, you have 2 solutions :</p>

<ul>
<li>run them directly, as you did in the "init data" part</li>
<li>use celery</li>
</ul>

<h5>
<a id="celery--celery-beat-scheduler" class="anchor" href="#celery--celery-beat-scheduler" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Celery + Celery Beat (Scheduler)</h5>

<p>There are multiple solution to run celery with celery beat. The example below are the minimal configurations.</p>

<p>You can celery with the -B option, to run beat and worker in the same time :</p>

<pre><code>PATH/TO/LazyBlacksmith/env/bin/celery worker -A celery_app:celery_app -B -c5
</code></pre>

<p>Or you can run two daemons, one for celery beat, the other for the workers :</p>

<pre><code># celery beat
PATH/TO/LazyBlacksmith/env/bin/celery beat -A celery_app:celery_app

# celery workers
PATH/TO/LazyBlacksmith/env/bin/celery multi start worker -A celery_app:celery_app -c5
</code></pre>

<h2>
<a id="ccp-icons" class="anchor" href="#ccp-icons" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>CCP Icons</h2>

<p>If you set <code>USE_CCP_ICONS = True</code> you need to download the files "EVE_VERSION_Types.zip" from CCP Toolkit ; <a href="https://developers.eveonline.com/resource/resources">https://developers.eveonline.com/resource/resources</a> and then
move the files into <code>lazyblacksmith/static/ccp/</code> (as a result, you should have <code>lazyblacksmith/static/ccp/Types/files.png</code>)</p>

<h2>
<a id="contact" class="anchor" href="#contact" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>Contact</h2>

<p>Guillaume B.</p>

<ul>
<li>Github: <a href="https://github.com/Kyria" class="user-mention">@Kyria</a>
</li>
<li>
<a href="https://www.fuzzwork.co.uk/tweetfleet-slack-invites/">TweetFleet Slack</a>: <a href="https://github.com/althalus" class="user-mention">@althalus</a>
</li>
<li>Eveonline: Althalus Stenory</li>
</ul>

<h2>
<a id="lazyblacksmith-license" class="anchor" href="#lazyblacksmith-license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>LazyBlacksmith License</h2>

<p>Copyright (c) 2015, Guillaume
All rights reserved.</p>

<p>Redistribution and use in source and binary forms, with or without
modification, are permitted provided that the following conditions are met:</p>

<ul>
<li><p>Redistributions of source code must retain the above copyright notice, this
list of conditions and the following disclaimer.</p></li>
<li><p>Redistributions in binary form must reproduce the above copyright notice,
this list of conditions and the following disclaimer in the documentation
and/or other materials provided with the distribution.</p></li>
<li><p>Neither the name of LazyBlacksmith nor the names of its
contributors may be used to endorse or promote products derived from
this software without specific prior written permission.</p></li>
</ul>

<p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE
FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL
DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR
SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER
CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>

<h2>
<a id="eve-online--ccp-license" class="anchor" href="#eve-online--ccp-license" aria-hidden="true"><span aria-hidden="true" class="octicon octicon-link"></span></a>EVE Online / CCP License</h2>

<p>EVE Online and the EVE logo are the registered trademarks of CCP hf. All rights are reserved worldwide. All other trademarks are the property of their respective owners. EVE Online, the EVE logo, EVE and all associated logos and designs are the intellectual property of CCP hf. All artwork, screenshots, characters, vehicles, storylines, world facts or other recognizable features of the intellectual property relating to these trademarks are likewise the intellectual property of CCP hf. CCP hf. has granted permission to LazyBlacksmith to use EVE Online and all associated logos and designs for promotional and information purposes on its website but does not endorse, and is not in any way affiliated with, LazyBlacksmith. CCP is in no way responsible for the content on or functioning of this website, nor can it be liable for any damage arising from the use of this website.</p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/Kyria/LazyBlacksmith">Lazyblacksmith</a> is maintained by <a href="https://github.com/Kyria">Kyria</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
